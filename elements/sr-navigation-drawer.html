<link rel="import" href="../bower_components/polymer/polymer.html" />

<polymer-element name="sr-navigation-drawer" attributes="state">
    <template class="{{state}}">
        <style>
            :host {
                display: block;
                position: fixed;
                width: 33%;
                height: 100%;
                background: rgb(13, 31, 97);
                box-shadow: 0 0 10px black;
                transition: -webkit-transform 0.4s;
                transition: transform 0.4s;
            }

            div {
                padding: 10px;
                color: white;
            }
        </style>

        <div>
            <content></content>
        </div>
    </template>

    <script>
        Polymer("sr-navigation-drawer", {
            state: "closed",
            domReady: function() {
                this.stateChanged();
            },
            stateChanged: function() {
                // to work around the inability to style the :host based on attributes
                if (this.state === "closed") {
                    this.style.webkitTransform = "translateX(-110%)";
                    this.style.transform = "translateX(-110%)";
                } else if (this.state == "opened") {
                    this.style.webkitTransform = null;
                    this.style.transform = null;
                }
            },
            open: function() {
                this.state = "opened";
            },
            close: function() {
                this.state = "closed";
            },
            isOpen: function() {
                return this.state === "opened";
            },
            toggle: function() {
                if (this.isOpen()) {
                    this.close();
                } else {
                    this.open();
                }
            }
        });
    </script>
</polymer-element>
