<link rel="import" href="/bower_components/polymer/polymer.html" />
<link rel="import" href="../sr-io-pin-mode-controller/index.html" />
<link rel="import" href="../sr-io-analogue-pin-controller/index.html" />
<link rel="import" href="../sr-io-digital-pin-controller/index.html" />
<link rel="import" href="../sr-wamp/index.html" />

<polymer-element name="sr-io-pin-controller" attributes="board pin mode type">
    <template>
        <style>
            :host {
                display: flex;
                flex-direction: column;
                align-items: center;
                min-width: 100px;
                padding: 10px;
            }

            h2 {
                margin: 0;
            }

            h3 {
                font-size: 0.8em;
                font-weight: bold;
                color: rgb(50, 50, 50);
                margin: 0 0 15px;
            }

            sr-io-analogue-pin-controller,
            sr-io-digital-pin-controller,
            sr-io-pin-mode-controller {
                margin: 5px;
            }
        </style>

        <h2>{{pin}}</h2>
        <h3>{{type}}</h3>

        <sr-io-pin-mode-controller
            board="{{board}}"
            pin="{{pin}}"
            value="{{mode}}"></sr-io-pin-mode-controller>

        <template bind if="{{ type == 'digital' }}">
            <sr-io-digital-pin-controller
                board="{{board}}"
                pin="{{pin}}"
                mode="{{mode}}"></sr-io-digital-pin-controller>
        </template>

        <template bind if="{{ type == 'analogue' }}">
            <sr-io-analogue-pin-controller
                board="{{board}}"
                pin="{{pin}}"
                mode="{{mode}}"></sr-io-analogue-pin-controller>
        </template>
    </template>

    <script>
        Polymer("sr-io-pin-controller", {
            board: 0,
            pin: 0,
            mode: "unset",
            type: undefined
        });
    </script>
</polymer-element>
