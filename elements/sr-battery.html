<link rel="import" href="../bower_components/polymer/polymer.html" />

<polymer-element name="sr-battery" attributes="level">
    <template>
        <style>
            :host {
                display: block;
                position: relative;
                z-index: 1000;
            }
        </style>

        <svg
            xmlns="http://www.w3.org/2000/svg"
            version="1.1"
            width="30"
            height="100"
            viewBox="0 0 50 130">
            <g transform="rotate(-90 65 25) translate(-40 -40)">
                <clipPath id="level-clip">
                    <rect
                        width="{{level*107}}"
                        height="36"
                        x="7"
                        y="7" />
                </clipPath>
                <rect
                    id="level-rect"
                    width="107"
                    height="36"
                    rx="5"
                    ry="5"
                    x="7"
                    y="7"
                    clip-path="url(#level-clip)"
                    style="fill:rgb({{(1-level)*255 | floor}}, {{level*255 | floor}}, 0)" />
                <path
                    d="m 8,0 c -4.432,0 -8,3.568 -8,8 l 0,34 c 0,4.432 3.568,8 8,8 l 105.2,0 c 4.432,0 7.57981,-3.58796 8,-8 l 0,-4.2 4.8,0 c 2.216,0 4,-1.784 4,-4 l 0,-17.6 c 0,-2.216 -1.784,-4 -4,-4 l -4.8,0 0,-4.2 c 0,-4.432 -3.568,-8 -8,-8 z m 3,5 99.2,0 c 3.324,0 6,2.676 6,6 l 0,28 c 0,3.324 -2.676,6 -6,6 L 11,45 c -3.324,0 -6,-2.676 -6,-6 l 0,-28 c 0,-3.324 2.676,-6 6,-6 z"
                    style="fill: white" />
            </g>
        </svg>
    </template>

    <script>
        Polymer("sr-battery", {
            floor: function(value) {
                return Math.floor(value);
            }
        });
    </script>
</polymer-element>
